{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<h1>Welcome, {{ user.username }}</h1>
<h2>Your Courses:</h2>
<ul class="list-group">
    {% for course in user_courses %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>{{ course.name }}</span>
        <form method="post" action="{% url 'unenroll' course.id %}">
            {% csrf_token %}
            <button class="btn btn-danger btn-sm">Unenroll</button>
        </form>
    </li>
    {% empty %}
    <li class="list-group-item">No courses enrolled.</li>
    {% endfor %}
</ul>
<h2>Available Courses:</h2>
<ul class="list-group">
    {% for course in all_courses %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>{{ course.name }}</span>
        <form method="post" action="{% url 'enroll' course.id %}">
            {% csrf_token %}
            <button class="btn btn-primary btn-sm">Enroll</button>
        </form>
    </li>
    {% empty %}
    <li class="list-group-item">No available courses.</li>
    {% endfor %}
</ul>
{% endblock %}
